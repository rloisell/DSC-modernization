---
work_package_id: "WP03"
title: "Frontend — Expense Category selector in Activity.jsx"
lane: "planned"
subtasks:
  - "WP02"
phase: "Phase 3 — Frontend"
assignee: ""
agent: ""
shell_pid: ""
review_status: ""
reviewed_by: ""
history:
  - timestamp: "2026-02-22T03:00:00Z"
    lane: "planned"
    agent: "system"
    action: "Prompt generated by GitHub Copilot spec-kitty session"
---

# Work Package Prompt: WP03 – Frontend — Expense Category selector in Activity.jsx

## Context

Add a required Expense Category `<Select>` to the Activity form, visible only
when `activityMode === 'expense'`.

## Files to Modify

- `src/DSC.WebClient/src/pages/Activity.jsx`
- `src/DSC.WebClient/src/api/catalogService.js` (if not already fetching expense categories)

## Steps

1. Add TanStack Query hook to fetch `/api/catalog/expense-categories`.
2. In form JSX: conditionally render BC Gov DS `<Select>` with `required` when
   `activityMode === 'expense'`.
3. Map category items to `{ key, textValue, children }` — use string keys (BC Gov DS requirement).
4. Include `expenseCategoryId: selectedCategoryId` in the POST payload.

## Acceptance

- [ ] Selector appears only for expense activities
- [ ] Selector populated from API
- [ ] Form submission includes `expenseCategoryId`
- [ ] Existing non-expense form submission unaffected

