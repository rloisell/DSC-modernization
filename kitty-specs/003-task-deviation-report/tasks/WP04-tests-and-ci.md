---
work_package_id: "WP04"
title: "Tests & CI verification"
lane: "planned"
subtasks:
  - "WP01"
phase: "Phase 3 — Tests & CI"
assignee: ""
agent: ""
shell_pid: ""
review_status: ""
reviewed_by: ""
history:
  - timestamp: "2026-02-22T03:00:00Z"
    lane: "planned"
    agent: "system"
    action: "Prompt generated by GitHub Copilot spec-kitty session"
---

# Work Package Prompt: WP04 – Tests & CI verification

## Context

Add unit/integration test for the deviation calculation logic and confirm CI passes.

## Steps

1. Add xUnit test in `tests/DSC.Tests/`:
   - Use seeded data; call `GetTaskDeviationAsync` for a known user
   - Assert `DeviationHours` and `DeviationPercent` match expected values
   - Assert zero-planned items return null `DeviationPercent`
2. Push branch; verify `build-and-test.yml` passes.

## Acceptance

- [ ] New test covers deviation calculation and null handling
- [ ] All existing tests pass
- [ ] CI green

