---
work_package_id: "WP04"
title: "Activity.jsx — three tabs, budget auto-set, project synopsis"
lane: "planned"
subtasks:
  - "WP01"
  - "WP03"
phase: "Phase 4 — Activity Page Restructure"
assignee: ""
agent: ""
shell_pid: ""
review_status: ""
reviewed_by: ""
history:
  - timestamp: "2026-02-22T03:00:00Z"
    lane: "planned"
    agent: "system"
    action: "Prompt generated by GitHub Copilot spec-kitty session"
---

# Work Package Prompt: WP04 – Activity.jsx — three tabs, budget auto-set, project synopsis

## Context

Convert the Activity page to a three-tab layout and add smart budget selection
and project synopsis.

## Files to Modify

- `src/DSC.WebClient/src/pages/Activity.jsx`

## Steps

1. Import `<TabBar />`.
2. Add `activeTab` state: default `'new-entry'`.
3. Define tabs: `[{id:'new-entry',label:'New Entry'},{id:'history',label:'History'},{id:'templates',label:'Templates'}]`.
4. Wrap existing form in `activeTab === 'new-entry'` guard; existing history list in `activeTab === 'history'`.
5. Budget auto-set: when `activityMode` changes →
   - `'project'` → `setBudgetType('CAPEX')` and mark read-only
   - `'expense'` → `setBudgetType('OPEX')` and mark read-only
6. Project synopsis panel (History tab) — already have project summary data; display estimated vs actual with OVERBUDGET warning.

## Acceptance

- [ ] Three tabs render and switch correctly
- [ ] Budget auto-set fires on mode change
- [ ] Project synopsis visible on History tab
- [ ] Existing form submission still works correctly

