---
work_package_id: "WP02"
title: "WorkItemTemplate entity + EF Core migration"
lane: "planned"
subtasks: []
phase: "Phase 2 — WorkItemTemplate Data Layer"
assignee: ""
agent: ""
shell_pid: ""
review_status: ""
reviewed_by: ""
history:
  - timestamp: "2026-02-22T03:00:00Z"
    lane: "planned"
    agent: "system"
    action: "Prompt generated by GitHub Copilot spec-kitty session"
---

# Work Package Prompt: WP02 – WorkItemTemplate entity + EF Core migration

## Context

Add the `WorkItemTemplate` entity for saving frequent task configurations.

## Files to Create/Modify

- `src/DSC.Api/Infrastructure/WorkItemTemplate.cs` (new)
- `src/DSC.Api/Infrastructure/ApplicationDbContext.cs`
- Run: `dotnet ef migrations add AddWorkItemTemplates`

## Steps

1. Create `WorkItemTemplate.cs`:
   ```csharp
   // WorkItemTemplate.cs entity for saving reusable activity entry configurations
   public class WorkItemTemplate
   {
       public Guid Id { get; set; }
       public Guid UserId { get; set; }
       public string TemplateName { get; set; } = string.Empty;
       public string? ActivityCode { get; set; }
       public string? NetworkNumber { get; set; }
       public Guid? ProjectId { get; set; }
       public decimal? PlannedDurationHours { get; set; }
       public string? BudgetType { get; set; }
       public string? Notes { get; set; }
       public DateTime CreatedAt { get; set; }
       public User User { get; set; } = null!;
       public Project? Project { get; set; }
   }
   ```
2. Add `DbSet<WorkItemTemplate> WorkItemTemplates` to `ApplicationDbContext`.
3. Run migration; inspect generated SQL.
4. `dotnet build` — clean.

## Acceptance

- [ ] Entity class created with correct properties
- [ ] Migration created and applies cleanly
- [ ] `dotnet build` passes

